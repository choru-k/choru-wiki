---
tags:
  - Stack
  - Heap
  - Memory Management
  - Computer Science
  - Overview
---

# Chapter 2-2: 스택과 힙은 어떻게 동작하는가 개요

## 🎯 스택과 힙: 메모리 관리의 두 기둥

프로그램이 실행될 때 메모리는 어떻게 관리될까요? 자판기에서 음료를 사는 것처럼 즉석에서 빠르게 처리되는 방법이 있고, 창고에서 물건을 찾는 것처럼 시간은 걸리지만 다양한 선택이 가능한 방법이 있습니다. 스택과 힙이 바로 이런 차이를 보여주는 메모리 관리의 핵심 메커니즘입니다.

## 📚 학습 로드맵

이 섹션은 5개의 전문화된 문서로 구성되어 있습니다:

### 1️⃣ [스택의 상세 동작](02a-stack-fundamentals.md)

- 함수 호출 시 스택에서 일어나는 일
- 스택 프레임과 함수 호출 규약
- 스택의 놀라운 속도 비밀
- 스택 관련 버그와 오버플로우

### 2️⃣ [힙의 상세 동작](02b-heap-fundamentals.md)

- malloc()의 내부 여정
- 메모리 청크와 Free List
- 메모리 단편화 문제
- 힙 메모리 관리 전략

### 3️⃣ [성능 비교와 메모리 버그](02c-performance-debugging.md)

- 스택 vs 힙 성능 대결
- 캐시 효과와 성능 차이 분석
- 스택과 힙에서 발생하는 대표적인 버그들
- 디버깅 도구 활용법

### 4️⃣ [고급 메모리 관리 기법](02d-advanced-techniques.md)

- 메모리 풀과 대량 생산의 효율성
- Arena 할당자로 한 번에 정리하기
- 게임과 서버에서의 실전 활용
- 성능 최적화 전략

### 5️⃣ [실전 가이드와 베스트 프랙티스](02e-practical-guide.md)

- 스택 vs 힙 결정 플로우차트
- 실제 시나리오별 권장사항
- 메모리 관리 베스트 프랙티스
- 핵심 요약과 다음 단계

## 🎯 핵심 개념 비교표

| 특징 | 스택 | 힙 | 설명 |
|------|------|----|---------|
| **속도** | 매우 빠름 (12ns) | 상대적으로 느림 (387ns) | 스택은 단순한 포인터 연산만 필요 |
| **관리** | 자동 | 수동 (malloc/free) | 스택은 함수 종료시 자동 정리 |
| **크기 제한** | 제한적 (~8MB) | 거의 무제한 | 스택 오버플로우 주의 |
| **접근 패턴** | LIFO (후입선출) | 임의 접근 | 스택은 순서가 정해져 있음 |
| **단편화** | 없음 | 발생 가능 | 힙은 메모리 조각화 문제 |
| **캐시 효율** | 높음 | 낮을 수 있음 | 스택은 지역성이 좋음 |

## 🚀 실전 활용 시나리오

### 스택 사용 권장 상황

- 작은 크기의 지역 변수 (< 1MB)
- 함수 매개변수와 리턴값
- 임시 계산용 버퍼
- 함수 내부에서만 사용하는 데이터

### 힙 사용 권장 상황

- 동적 크기가 필요한 경우
- 큰 데이터 구조 (이미지, 대용량 배열)
- 함수 밖으로 전달할 데이터
- 자료구조 (연결 리스트, 트리)

### 성능 최적화 전략

- **메모리 풀**: 같은 크기 객체 반복 할당시
- **Arena 할당자**: 관련 할당의 그룹화
- **스택 우선**: 가능한 한 스택 사용

## 🎭 학습 전략

### 초보자 (추천 순서)

1. [스택 기초](02a-stack-fundamentals.md) → 함수 호출 메커니즘 이해
2. [힙 기초](02b-heap-fundamentals.md) → 동적 메모리 할당 학습
3. [성능과 버그](02c-performance-debugging.md) → 실전 문제 해결 능력 개발
4. 간단한 메모리 관리 프로그램 작성 연습

### 중급자 (심화 학습)

1. [고급 기법](02d-advanced-techniques.md) → 성능 최적화 기술
2. [실전 가이드](02e-practical-guide.md) → 상황별 최적 선택
3. 실제 프로덕션 환경에서 메모리 프로파일링 경험
4. 커스텀 할당자 구현 도전

### 고급자 (전문 지식)

1. 모든 문서를 통합적으로 학습
2. 운영체제별 메모리 관리 차이점 연구
3. 고성능 시스템 설계에 메모리 최적화 적용

## 🔗 연관 학습

### 선행 학습

- [Chapter 2-1: 프로세스 메모리 구조](01-process-memory.md) - 메모리 세그먼트 이해

### 후속 학습

- [Chapter 2-3: 가상 메모리와 페이징](03-virtual-memory.md) - 메모리 추상화
- [Chapter 2-4: 메모리 매핑과 공유 메모리](04-memory-mapping.md) - 고급 메모리 기법

## 📊 이 섹션에서 배우게 될 핵심 질문들

- 함수를 호출할 때 스택에서 정확히 무슨 일이 일어나는가?
- malloc()은 내부적으로 어떻게 메모리를 찾아 할당하는가?
- 왜 스택은 빠르고 힙은 상대적으로 느린가?
- 메모리 누수는 어떻게 발생하고 어떻게 찾을 수 있는가?
- 스택 오버플로우와 힙 오버플로우의 차이는?
- 언제 스택을 사용하고 언제 힙을 사용해야 하는가?
- 메모리 관련 버그를 어떻게 예방하고 디버깅할 수 있는가?

---

**다음**: [스택의 상세 동작](02a-stack-fundamentals.md)에서 함수 호출의 발레와 같은 우아한 메커니즘을 탐구합니다.

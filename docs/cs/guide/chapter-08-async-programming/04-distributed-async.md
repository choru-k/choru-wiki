---
tags:
  - DistributedSystems
  - Async
  - Microservices
  - EventSourcing
  - Saga
  - Overview
---

# Chapter 8-4: ë¶„ì‚° ì‹œìŠ¤í…œì˜ ë¹„ë™ê¸° íŒ¨í„´ ê°œìš”

## ğŸ¯ ë¶„ì‚° ë¹„ë™ê¸° ì‹œìŠ¤í…œì˜ í•µì‹¬ ë„ì „ê³¼ì œ

ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë¹„ë™ê¸° íŒ¨í„´ì„ ë§ˆìŠ¤í„°í•œë‹¤ëŠ” ê²ƒì€ í˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì˜ í•µì‹¬ì„ ì´í•´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:

1. **"ë¶„ì‚° íŠ¸ëœì­ì…˜ ì—†ì´ ì–´ë–»ê²Œ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ì£ ?"** - Saga íŒ¨í„´ìœ¼ë¡œ eventual consistencyë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
2. **"ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹ ì´ ë„ˆë¬´ ë³µì¡í•´ìš”"** - Event-driven architectureë¡œ ëŠìŠ¨í•œ ê²°í•©ì„ ë‹¬ì„±í•©ë‹ˆë‹¤
3. **"ë©”ì‹œì§€ê°€ ì¤‘ë³µ ì²˜ë¦¬ë˜ë©´ ì–´ë–»ê²Œ í•˜ì£ ?"** - Idempotencyì™€ exactly-once deliveryë¥¼ ë³´ì¥í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤
4. **"ì„œë¹„ìŠ¤ í•˜ë‚˜ê°€ ì£½ìœ¼ë©´ ì „ì²´ê°€ ë©ˆì¶°ìš”"** - Circuit breakerì™€ bulkheadë¡œ ì¥ì• ë¥¼ ê²©ë¦¬í•©ë‹ˆë‹¤

## ğŸ“š í•™ìŠµ ë¡œë“œë§µ

ì´ ì„¹ì…˜ì€ 5ê°œì˜ ì „ë¬¸í™”ëœ ë¬¸ì„œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

### 1ï¸âƒ£ [ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ Saga íŒ¨í„´](04a-distributed-transactions.md)

- Two-Phase Commitì˜ í•œê³„ì ê³¼ ì‹¤íŒ¨ ì´ìœ 
- Saga íŒ¨í„´ì˜ í•µì‹¬ ì›ë¦¬ì™€ êµ¬í˜„ ë°©ë²•
- Orchestration vs Choreography ë¹„êµ ë¶„ì„
- ë³´ìƒ íŠ¸ëœì­ì…˜(Compensation)ì˜ ì„¤ê³„ ì›ì¹™

### 2ï¸âƒ£ [Event Sourcingê³¼ CQRS](04b-event-sourcing-cqrs.md)

- Event Sourcingì˜ ê¸°ë³¸ ê°œë…ê³¼ êµ¬í˜„
- ì´ë²¤íŠ¸ ìŠ¤í† ì–´ ì„¤ê³„ì™€ ìµœì í™” ì „ëµ
- CQRS íŒ¨í„´ìœ¼ë¡œ ì½ê¸°/ì“°ê¸° ëª¨ë¸ ë¶„ë¦¬
- Eventual Consistency ì²˜ë¦¬ ë°©ë²•

### 3ï¸âƒ£ [ë©”ì‹œì§€ íì™€ ìŠ¤íŠ¸ë¦¬ë°](04c-message-streaming.md)

- Kafkaë¥¼ ì´ìš©í•œ ëŒ€ìš©ëŸ‰ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°
- Exactly-once semantics êµ¬í˜„ ë°©ë²•
- Back-pressureì™€ Flow Control íŒ¨í„´
- ë™ì  ìŠ¤ì¼€ì¼ë§ê³¼ ì„±ëŠ¥ ìµœì í™”

### 4ï¸âƒ£ [ë³µì›ë ¥ íŒ¨í„´](04d-resilience-patterns.md)

- Circuit Breaker íŒ¨í„´ê³¼ êµ¬í˜„ ì „ëµ
- Bulkhead íŒ¨í„´ìœ¼ë¡œ ì¥ì•  ê²©ë¦¬
- ì§€ëŠ¥ì ì¸ Retryì™€ Timeout ì „ëµ
- Hedged Requestsì™€ ì ì‘ì  ì‹œìŠ¤í…œ

### 5ï¸âƒ£ [ì‹¤ì „ ì‚¬ë¡€ ì—°êµ¬](04e-production-case-study.md)

- ëŒ€ê·œëª¨ ì´ì»¤ë¨¸ìŠ¤ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- 2023ë…„ ë¸”ë™í”„ë¼ì´ë°ì´ ì¥ì•  ëŒ€ì‘ ì‚¬ë¡€
- í”„ë¡œë•ì…˜ í™˜ê²½ ëª¨ë‹ˆí„°ë§ê³¼ ì•Œë¦¼ ì „ëµ
- ë¹„ìš© ìµœì í™”ì™€ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬

## ğŸ¯ í•µì‹¬ ê°œë… ë¹„êµí‘œ

ë¶„ì‚° ë¹„ë™ê¸° ì‹œìŠ¤í…œì˜ ì£¼ìš” íŒ¨í„´ë“¤ì„ ë¹„êµí•´ë³´ê² ìŠµë‹ˆë‹¤:

| íŒ¨í„´ | ì ìš© ìƒí™© | ì¥ì  | ë‹¨ì  | êµ¬í˜„ ë³µì¡ë„ |
|------|----------|------|------|-------------|
| **Saga** | ë¶„ì‚° íŠ¸ëœì­ì…˜ | Eventual consistency, ë†’ì€ ê°€ìš©ì„± | ë³µì¡í•œ ë³´ìƒ ë¡œì§ | ì¤‘ê°„ |
| **Event Sourcing** | ê°ì‚¬ ì¶”ì  í•„ìš” | ì™„ì „í•œ ì´ë ¥, ì‹œê°„ ì—¬í–‰ | ì¿¼ë¦¬ ë³µì¡ì„±, ì €ì¥ ê³µê°„ | ë†’ìŒ |
| **CQRS** | ì½ê¸°/ì“°ê¸° íŒ¨í„´ ì°¨ì´ | ë…ë¦½ ìµœì í™”, í™•ì¥ì„± | ë³µì¡ì„± ì¦ê°€, ì¼ê´€ì„± ì§€ì—° | ë†’ìŒ |
| **Circuit Breaker** | ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ | ë¹ ë¥¸ ì‹¤íŒ¨, ì‹œìŠ¤í…œ ë³´í˜¸ | ì˜¤íƒ ê°€ëŠ¥ì„± | ë‚®ìŒ |
| **Bulkhead** | ë¦¬ì†ŒìŠ¤ ê²©ë¦¬ | ì¥ì•  ì˜í–¥ ì œí•œ | ë¦¬ì†ŒìŠ¤ ë¹„íš¨ìœ¨ | ì¤‘ê°„ |
| **Message Queue** | ë¹„ë™ê¸° í†µì‹  | í™•ì¥ì„±, ë‚´ê²°í•¨ì„± | ë©”ì‹œì§€ ìˆœì„œ, ì¤‘ë³µ ì²˜ë¦¬ | ì¤‘ê°„ |

## ğŸš€ ì‹¤ì „ í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ëŒ€ìš©ëŸ‰ ì´ì»¤ë¨¸ìŠ¤ ì£¼ë¬¸ ì²˜ë¦¬

- **ë„ì „ê³¼ì œ**: ì´ˆë‹¹ 10ë§Œ ê±´ì˜ ì£¼ë¬¸ ìš”ì²­ ì²˜ë¦¬
- **ì†”ë£¨ì…˜**: Saga + CQRS + Event Streaming + Circuit Breaker
- **í•µì‹¬ ì „ëµ**:
  - Saga íŒ¨í„´ìœ¼ë¡œ ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬
  - CQRSë¡œ ì½ê¸°/ì“°ê¸° ìµœì í™”
  - Kafkaë¡œ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°
  - Circuit Breakerë¡œ ì¥ì•  ì „íŒŒ ë°©ì§€

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê¸€ë¡œë²Œ ë±…í‚¹ ì‹œìŠ¤í…œ

- **ë„ì „ê³¼ì œ**: ê°•í•œ ì¼ê´€ì„±ê³¼ ê°ì‚¬ ì¶”ì  í•„ìš”
- **ì†”ë£¨ì…˜**: Event Sourcing + Saga + ë‹¤ì¤‘ ë¦¬ì „ ë³µì œ
- **í•µì‹¬ ì „ëµ**:
  - Event Sourcingìœ¼ë¡œ ì™„ì „í•œ ê°ì‚¬ ì¶”ì 
  - Sagaë¡œ êµ­ê°€ê°„ ê±°ë˜ ì²˜ë¦¬
  - ì§€ì—­ë³„ ì½ê¸° ì „ìš© ë³µì œë³¸ ìš´ì˜

### ì‹œë‚˜ë¦¬ì˜¤ 3: IoT ë°ì´í„° ì²˜ë¦¬ í”Œë«í¼

- **ë„ì „ê³¼ì œ**: ì´ˆë‹¹ ìˆ˜ë°±ë§Œ ì„¼ì„œ ë°ì´í„° ì‹¤ì‹œê°„ ì²˜ë¦¬
- **ì†”ë£¨ì…˜**: Back-pressure + Stream Processing + Event Sourcing
- **í•µì‹¬ ì „ëµ**:
  - Back-pressureë¡œ ê³¼ë¶€í•˜ ë°©ì§€
  - ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ë¡œ ì¦‰ì‹œ ë¶„ì„
  - ì¤‘ìš” ì´ë²¤íŠ¸ë§Œ Event Storeì— ì €ì¥

## ğŸ­ í•™ìŠµ ì „ëµ

ë¶„ì‚° ë¹„ë™ê¸° ì‹œìŠ¤í…œì„ íš¨ê³¼ì ìœ¼ë¡œ í•™ìŠµí•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ì ‘ê·¼ë²•:

### ì´ˆë³´ì (ì¶”ì²œ ìˆœì„œ)

1. **[ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ Saga](04a-distributed-transactions.md)** â†’ ë¶„ì‚° ì‹œìŠ¤í…œì˜ ê¸°ë³¸ ë”œë ˆë§ˆ ì´í•´
2. **[ë³µì›ë ¥ íŒ¨í„´](04d-resilience-patterns.md)** â†’ ì‹¤ìš©ì ì¸ ì¥ì•  ëŒ€ì‘ íŒ¨í„´ í•™ìŠµ
3. **[ë©”ì‹œì§€ íì™€ ìŠ¤íŠ¸ë¦¬ë°](04c-message-streaming.md)** â†’ ë¹„ë™ê¸° í†µì‹  ê¸°ì´ˆ
4. ê°„ë‹¨í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸ êµ¬í˜„ ì—°ìŠµ

### ì¤‘ê¸‰ì (ì‹¬í™” í•™ìŠµ)

1. **[Event Sourcingê³¼ CQRS](04b-event-sourcing-cqrs.md)** â†’ ê³ ê¸‰ ì•„í‚¤í…ì²˜ íŒ¨í„´
2. **[ì‹¤ì „ ì‚¬ë¡€ ì—°êµ¬](04e-production-case-study.md)** â†’ í”„ë¡œë•ì…˜ í™˜ê²½ ê²½í—˜
3. ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì„¤ê³„ ì—°ìŠµ
4. Chaos Engineering ë„ì…

### ê³ ê¸‰ì (ì „ë¬¸ê°€ ìˆ˜ì¤€)

1. ëª¨ë“  íŒ¨í„´ì„ í†µí•©í•œ ë³µí•© ì‹œìŠ¤í…œ ì„¤ê³„
2. ì„±ëŠ¥ ìµœì í™”ì™€ ë¹„ìš© íš¨ìœ¨ì„± ê·¹ëŒ€í™”
3. ìƒˆë¡œìš´ íŒ¨í„´ ì—°êµ¬ì™€ ê¸°ìˆ  íŠ¸ë Œë“œ ì ìš©

## ğŸ¯ ì•„í‚¤í…ì²˜ ê²°ì • ê°€ì´ë“œ

ë³µì¡í•œ ë¶„ì‚° ì‹œìŠ¤í…œì„ ì„¤ê³„í•  ë•Œ íŒ¨í„´ ì„ íƒì„ ìœ„í•œ ì˜ì‚¬ê²°ì • íŠ¸ë¦¬:

```mermaid
graph TD
    A[ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„ ì‹œì‘] --> B{íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ìš”êµ¬ì‚¬í•­}
    
    B -->|ê°•í•œ ì¼ê´€ì„±| C[Event Sourcing + Saga]
    B -->|ì•½í•œ ì¼ê´€ì„±| D{ì²˜ë¦¬ëŸ‰ ìš”êµ¬ì‚¬í•­}
    
    D -->|ì´ˆê³ ì† ì²˜ë¦¬| E[CQRS + Message Streaming]
    D -->|ì¼ë°˜ì  ì²˜ë¦¬| F{ì¥ì•  í—ˆìš©ì„±}
    
    F -->|ë†’ìŒ| G[Circuit Breaker + Bulkhead]
    F -->|ë³´í†µ| H[ê¸°ë³¸ Retry + Timeout]
    
    C --> I[Event Store êµ¬ì¶•]
    E --> J[Kafka Cluster êµ¬ì¶•]
    G --> K[ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•]
    H --> L[ê¸°ë³¸ ë³µì›ë ¥ íŒ¨í„´ ì ìš©]
```

### íŒ¨í„´ ì¡°í•© ì „ëµ

| ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ | ì¶”ì²œ íŒ¨í„´ ì¡°í•© | êµ¬í˜„ ë³µì¡ë„ | ì˜ˆìƒ ë¹„ìš© |
|-------------------|----------------|-------------|----------|
| **ê¸ˆìœµ/ê²°ì œ** | Event Sourcing + Saga + Circuit Breaker | ë†’ìŒ | ë†’ìŒ |
| **ì´ì»¤ë¨¸ìŠ¤** | CQRS + Message Streaming + Bulkhead | ì¤‘ê°„ | ì¤‘ê°„ |
| **IoT/ì„¼ì„œ** | Event Streaming + Back-pressure + Cache | ì¤‘ê°„ | ë‚®ìŒ |
| **ì†Œì…œë¯¸ë””ì–´** | CQRS + Cache + Circuit Breaker | ì¤‘ê°„ | ì¤‘ê°„ |
| **ê²Œì„** | Event Sourcing + Message Streaming + Bulkhead | ë†’ìŒ | ë†’ìŒ |

## ğŸ”— ì—°ê´€ í•™ìŠµ

### ì„ í–‰ í•™ìŠµ ê¶Œì¥

- **[Chapter 7: ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë°](../chapter-07-network-programming/)** - TCP/IP ìŠ¤íƒê³¼ ì†Œì¼“ í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ
- **[Chapter 4: í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ](../chapter-04-process-thread/)** - ë™ì‹œì„±ê³¼ ë³‘ë ¬ ì²˜ë¦¬ ê°œë…
- **[Chapter 6: íŒŒì¼ I/O](../chapter-06-file-io/)** - ë¹„ë™ê¸° I/O íŒ¨í„´

### í›„ì† í•™ìŠµ ì¶”ì²œ  

- **[Chapter 9: ë©”ëª¨ë¦¬ ê´€ë¦¬ì™€ GC](../chapter-09-memory-gc/)** - ë¶„ì‚° ì‹œìŠ¤í…œì˜ ë©”ëª¨ë¦¬ ìµœì í™”
- **[Chapter 13: ê´€ì°° ê°€ëŠ¥ì„±ê³¼ ë””ë²„ê¹…](../chapter-13-observability-debugging/)** - ë¶„ì‚° ì¶”ì ê³¼ ëª¨ë‹ˆí„°ë§
- **[Chapter 16: ì‹œìŠ¤í…œ ì„¤ê³„ íŒ¨í„´](../chapter-16-system-design-patterns/)** - ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ì‚¬ë¡€

## ğŸ’¡ ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë¶„ì‚° ë¹„ë™ê¸° ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ë•Œ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•  í•­ëª©ë“¤:

### ê¸°ë³¸ ë³µì›ë ¥

- [ ] **Idempotency ë³´ì¥**: ê°™ì€ ì‘ì—…ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ë„ ì•ˆì „
- [ ] **Circuit Breaker êµ¬í˜„**: ì—°ì‡„ ì¥ì•  ë°©ì§€
- [ ] **Retry with Exponential Backoff**: ì§€ëŠ¥ì ì¸ ì¬ì‹œë„
- [ ] **Timeout ì„¤ì •**: ì ì ˆí•œ ì‘ë‹µ ì‹œê°„ ì œí•œ

### ê³ ê¸‰ íŒ¨í„´

- [ ] **Event Sourcing**: ì™„ì „í•œ ê°ì‚¬ ì¶”ì 
- [ ] **CQRS**: ì½ê¸°/ì“°ê¸° ìµœì í™”
- [ ] **Saga Pattern**: ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬
- [ ] **Bulkhead**: ë¦¬ì†ŒìŠ¤ ê²©ë¦¬

### ëª¨ë‹ˆí„°ë§ê³¼ ìš´ì˜

- [ ] **Distributed Tracing**: ìš”ì²­ íë¦„ ì¶”ì 
- [ ] **Metrics Collection**: ì‹¤ì‹œê°„ ì„±ëŠ¥ ì§€í‘œ
- [ ] **Alerting**: ì„ê³„ì¹˜ ê¸°ë°˜ ì•Œë¦¼
- [ ] **Chaos Engineering**: ì˜ë„ì  ì¥ì•  í…ŒìŠ¤íŠ¸

## ğŸ“ ë§ˆìŠ¤í„°ë¦¬ ë‹¬ì„± ê²½ë¡œ

### ì´ˆê¸‰ â†’ ì¤‘ê¸‰ (3-6ê°œì›”)

1. ê¸°ë³¸ íŒ¨í„´ 3ê°œ ì´ìƒ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©
2. ê°„ë‹¨í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ êµ¬ì¶• ê²½í—˜
3. Kafka ë˜ëŠ” RabbitMQë¥¼ ì´ìš©í•œ ë©”ì‹œì§• ì‹œìŠ¤í…œ êµ¬í˜„

### ì¤‘ê¸‰ â†’ ê³ ê¸‰ (6-12ê°œì›”)

1. Event Sourcingê³¼ CQRS íŒ¨í„´ í”„ë¡œë•ì…˜ ì ìš©
2. ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì„¤ê³„ ë° ìš´ì˜
3. ë³µí•© ì¥ì•  ìƒí™©ì—ì„œì˜ ë¬¸ì œ í•´ê²° ê²½í—˜

### ê³ ê¸‰ â†’ ì „ë¬¸ê°€ (12ê°œì›”+)

1. ìƒˆë¡œìš´ íŒ¨í„´ ì—°êµ¬ ë° ì ìš©
2. íŒ€/ì¡°ì§ì˜ ì•„í‚¤í…ì²˜ ì˜ì‚¬ê²°ì • ì£¼ë„
3. ì»¨í¼ëŸ°ìŠ¤ ë°œí‘œ ë˜ëŠ” ê¸°ìˆ  ë¸”ë¡œê·¸ ê¸°ê³ 

## ğŸ“– ì¶”ì²œ ì°¸ê³  ìë£Œ

### í•µì‹¬ ë…¼ë¬¸ê³¼ ì•„í‹°í´

- **[Saga Pattern](https://microservices.io/patterns/data/saga.html)** - Chris Richardsonì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŒ¨í„´
- **[Event Sourcing](https://martinfowler.com/eaaDev/EventSourcing.html)** - Martin Fowlerì˜ ì´ë²¤íŠ¸ ì†Œì‹± ê°€ì´ë“œ
- **[Circuit Breaker](https://martinfowler.com/bliki/CircuitBreaker.html)** - íšŒë¡œ ì°¨ë‹¨ê¸° íŒ¨í„´ ì›ë¬¸
- **[Reactive Manifesto](https://www.reactivemanifesto.org/)** - ë°˜ì‘í˜• ì‹œìŠ¤í…œ ì„ ì–¸ë¬¸

### ì‹¤ë¬´ ê°€ì´ë“œë¶

- **[Building Event-Driven Microservices](https://www.confluent.io/resources/ebook/building-event-driven-microservices/)** - Adam Bellemare
- **[Microservices Patterns](https://www.manning.com/books/microservices-patterns)** - Chris Richardson
- **[Designing Data-Intensive Applications](https://dataintensive.net/)** - Martin Kleppmann

### ì‹¤ìŠµ ë¦¬ì†ŒìŠ¤

- **[Eventuate](https://eventuate.io/)** - Event Sourcingê³¼ CQRS í”Œë«í¼
- **[Apache Kafka Documentation](https://kafka.apache.org/documentation/)** - ê³µì‹ Kafka ë¬¸ì„œ
- **[Spring Cloud](https://spring.io/projects/spring-cloud)** - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í”„ë ˆì„ì›Œí¬

---

**ì‹œì‘ì **: [04a-distributed-transactions.md](04a-distributed-transactions.md)ì—ì„œ ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ ê¸°ë³¸ ê°œë…ë¶€í„° í•™ìŠµì„ ì‹œì‘í•˜ì„¸ìš”!
